---
---

<section class="flex flex-col bg-[#5368df] pt-[15cqw] pb-[8cqw] items-center
                md:pt-[5cqw] md:pb-[6cqw]">
    <h3 class="text-white tracking-[1.1cqw] font-[450] text-[2.9cqw] text-center md:text-[.9cqw] md:tracking-[.5cqw] ">35.000+ ALREADY JOINED</h3>
    <h2 class="text-white pt-[3cqw] text-[5.7cqw] text-center font-[550] md:text-[2.8cqw]">Stay up-to-date with what  <br> we're doing</h2>
    <div class="flex flex-col pt-6 w-[80cqw] md:w-[40cqw] md:flex-row md:gap-2 md:pt-4">
        <div class="flex-grow-1 ">
            <div id='inputContainer' class="flex rounded-b-sm bg-white px-[4cqw] py-[3cqw] rounded-t-sm md:text-[1.2cqw] 
                md:px-[1.4cqw] md:rounded-[.4cqw] md:py-[.8cqw] flex-grow-1 md:h-[3.5cqw]">
                <input id='input' class="w-full outline-none text-black" placeholder = 'Enter your email address'>
                <img id='errorImg' class='hidden' src="/public/assets/icon-error.svg" alt="">
            </div>
            <p id='errorMessage' class="hidden bg-[#fa4a4a] text-[2.5cqw] px-3 rounded-b-sm py-1 font-[500] text-white md:text-[1.2cqw] md:pt-[.5cqw] md:pb-[.8cqw]">Whoops, make sure it's an email</p>
        </div>
        <button class="mt-6 bg-[#fa4a4a] cursor-pointer rounded-sm text-white font-[500] hover:bg-[#ff5353] py-3
        md:text-[1.2cqw] md:mt-0 md:py-0 md:h-[3.5cqw] md:px-[1.9cqw] md:rounded-[.3cqw]">Contact us</button>
    </div>
</section>


<style>
    .errorEmail{
        border: 2px solid rgb(250, 74, 74) !important;
        border-bottom-left-radius: 0px !important;
        border-bottom-right-radius: 0px !important;
    }
</style>

<script>
    const input= document.querySelector('#input') as HTMLInputElement;
    const inputContainer = document.querySelector('#inputContainer');
    const errorMessage = document.querySelector('#errorMessage')
    const errorImg = document.querySelector('#errorImg') as HTMLImageElement;
    const regexEmail = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
    let timeOut;
    function validateEmail(){
        if(!regexEmail.test(input.value) && input.value.length>0){
            inputContainer.classList.add('errorEmail');
            errorImg.classList.add('block!');
            errorMessage.classList.add('block!');
        }
        else{
            inputContainer.classList.remove('errorEmail');
            errorImg.classList.remove('block!');
            errorMessage.classList.remove('block!');
        }
    }
    input.addEventListener('input', ()=>{
        clearTimeout(timeOut);
        timeOut = setTimeout(validateEmail, 1000);
    })
</script>